---
jupyter:
  jupytext:
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.1'
      jupytext_version: 1.1.6
  kernelspec:
    display_name: Python 3
    language: python
    name: python3
---

# Comparisons, Masks, and Boolean Logic

```python
import numpy as np
import pandas as pd

# use Pandas extract rainfall inches as a NumPy array
rainfall = pd.read_csv('data/Seattle2014.csv')['PRCP'].values
inches = rainfall / 254  # 1/10mm -> inches
inches.shape
```

```python
%matplotlib inline
import matplotlib.pyplot as plt
import seaborn; seaborn.set()  # set plot styles
```

```python
plt.hist(inches, 40);
```

```python
x = np.array([1, 2, 3, 4, 5])
```

```python
x < 3  # less than
```

```python
x > 3  # greater than
```

```python
x <= 3  # less than or equal
```

```python
x >= 3  # greater than or equal
```

```python
x != 3  # not equal
```

```python
x == 3  # equal
```

```python
(2 * x) == (x ** 2)
```

```python
rng = np.random.RandomState(0)
x = rng.randint(10, size=(3, 4))
x
```

```python
x < 6
```

```python
print(x)
```

```python
# how many values less than six?
np.count_nonzero(x < 6)
```

```python
np.sum(x < 6)
```

```python
# how many values less than six in each row?
np.sum(x < 6, axis=1)
```

```python
# are there any values greater than eight?
np.any(x > 8)
```

```python
# are there any values less than zero?
np.any(x < 0)
```

```python
# are all values less than ten?
np.all(x < 10)
```

```python
# are all values equal to six?
np.all(x == 6)
```

```python
# are all values in each row less than four?
np.all(x < 8, axis=1)
```

```python
np.sum((inches > 0.5) & (inches < 1))
```

```python
np.sum(~( (inches <= 0.5) | (inches >= 1) ))
```

```python
print("Number days without rain:      ", np.sum(inches == 0))
print("Number days with rain:         ", np.sum(inches != 0))
print("Days with more than 0.5 inches:", np.sum(inches > 0.5))
print("Rainy days with < 0.1 inches  :", np.sum((inches > 0) & (inches < 0.2)))
```

```python
x
```

```python
x < 5
```

```python
x[x < 5]
```

```python
# construct a mask of all rainy days
rainy = (inches > 0)

# construct a mask of all summer days (June 21st is the 172nd day)
days = np.arange(365)
summer = (days > 172) & (days < 262)

print("Median precip on rainy days in 2014 (inches):   ", np.median(inches[rainy]))
print("Median precip on summer days in 2014 (inches):  ", np.median(inches[summer]))
print("Maximum precip on summer days in 2014 (inches): ", np.max(inches[summer]))
print("Median precip on non-summer rainy days (inches):", np.median(inches[rainy & ~summer]))
```

```python
bool(42), bool(0)
```

```python
bool(42 and 0)
```

```python
bool(42 or 0)
```

```python
bin(42)
```

```python
bin(59)
```

```python
bin(42 & 59)
```

```python
bin(42 | 59)
```

```python
A = np.array([1, 0, 1, 0, 1, 0], dtype=bool)
B = np.array([1, 1, 1, 0, 1, 1], dtype=bool)
A | B
```

```python
A or B
```

```python
x = np.arange(10)
(x > 4) & (x < 8)
```

```python
(x > 4) and (x < 8)
```
