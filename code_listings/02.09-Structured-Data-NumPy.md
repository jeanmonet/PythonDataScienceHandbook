---
jupyter:
  jupytext:
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.1'
      jupytext_version: 1.1.6
  kernelspec:
    display_name: Python 3
    language: python
    name: python3
---

# Structured Data: NumPy's Structured Arrays

```python
name = ['Alice', 'Bob', 'Cathy', 'Doug']
age = [25, 45, 37, 19]
weight = [55.0, 85.5, 68.0, 61.5]
```

```python
x = np.zeros(4, dtype=int)
```

```python
# Use a compound data type for structured arrays
data = np.zeros(4, dtype={'names':('name', 'age', 'weight'),
                          'formats':('U10', 'i4', 'f8')})
print(data.dtype)
```

```python
data['name'] = name
data['age'] = age
data['weight'] = weight
print(data)
```

```python
# Get all names
data['name']
```

```python
# Get first row of data
data[0]
```

```python
# Get the name from the last row
data[-1]['name']
```

```python
# Get names where age is under 30
data[data['age'] < 30]['name']
```

```python
np.dtype({'names':('name', 'age', 'weight'),
          'formats':('U10', 'i4', 'f8')})
```

```python
np.dtype({'names':('name', 'age', 'weight'),
          'formats':((np.str_, 10), int, np.float32)})
```

```python
np.dtype([('name', 'S10'), ('age', 'i4'), ('weight', 'f8')])
```

```python
np.dtype('S10,i4,f8')
```

```python
tp = np.dtype([('id', 'i8'), ('mat', 'f8', (3, 3))])
X = np.zeros(1, dtype=tp)
print(X[0])
print(X['mat'][0])
```

```python
data['age']
```

```python
data_rec = data.view(np.recarray)
data_rec.age
```

```python
%timeit data['age']
%timeit data_rec['age']
%timeit data_rec.age
```
